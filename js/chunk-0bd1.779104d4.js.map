{"version":3,"sources":["webpack:///./src/components/SwitchDomain/index.vue?0cab","webpack:///src/components/SwitchDomain/index.vue","webpack:///./src/components/SwitchDomain/index.vue?4896","webpack:///./src/components/SwitchDomain/index.vue","webpack:///./src/views/userData/components/user/DomainTable.vue?c2ef","webpack:///./src/api/userDomain.js","webpack:///./src/views/userData/bindDomain.vue?6eef","webpack:///./src/views/userData/components/user/DomainTable.vue?c9be","webpack:///src/views/userData/components/user/DomainTable.vue","webpack:///./src/views/userData/components/user/DomainTable.vue?9850","webpack:///./src/views/userData/components/user/DomainTable.vue","webpack:///src/views/userData/bindDomain.vue","webpack:///./src/views/userData/bindDomain.vue?4261","webpack:///./src/views/userData/bindDomain.vue","webpack:///./src/utils/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","display","text-align","width","attrs","placeholder","currentDomain","domain","$t","disabled","type","plain","on","click","$event","selectDomainVisible","_v","_s","title","visible","device","update:visible","model","value","callback","$$v","selectValue","expression","_l","isValid","key","label","_e","staticClass","slot","handleSelect","staticRenderFns","SwitchDomainvue_type_script_lang_js_","name","props","pcWidth","String","default","mobileWidth","finishSelect","Function","required","data","validDomain","computed","Object","objectSpread","vuex_esm","watch","userValidDomain","val","JSON","parse","mounted","methods","_this","forEach","item","store","dispatch","then","uid","id","components_SwitchDomainvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DomainTable_vue_vue_type_style_index_0_id_4d36ea9b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DomainTable_vue_vue_type_style_index_0_id_4d36ea9b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","fetchHostNum","_utils_request__WEBPACK_IMPORTED_MODULE_5__","url","Date","getTime","toFixed","method","fetchDomain","page","pageSize","order","filters","concat","blockDomain","whiteDomain","searchHost","host","fetchUserList","fetchUserDomain","_utils_auth__WEBPACK_IMPORTED_MODULE_6__","bindDomain","checkDomain","domainID","deleteDomain","fetchAdminUser","DomainTablevue_type_template_id_4d36ea9b_scoped_true_render","margin","xs","sm","lg","dialogVisible","directives","rawName","border","tableData","align","prop","scopedSlots","_u","fn","scope","style","row","blocked","formatterStatus","fixed","size","handleCheck","ref","trigger","placement","pClose","handleDeleteDomain","pShow","layout","page-sizes","page-size","tableParam","current-page","size-change","handleSizeChange","current-change","handleCurrentChange","checkDialogVisible","description","closable","checkSelect","checkDomainData","text","saveFile","loading","checkDomainLoading","handleCheckDomain","domainFormData","rules","domainRules","rows","$set","addDomainSubmit","DomainTablevue_type_template_id_4d36ea9b_scoped_true_staticRenderFns","DomainTablevue_type_script_lang_js_","components","SwitchDomain","formValidateURL","rule","validate","error","Error","validator","$refs","doClose","doShow","fetchTableData","_this2","arguments","length","undefined","userDomain","res","toConsumableArray","filter","native","catch","err","console","log","_this3","$message","message","domainData","_this4","_this5","domainForm","valid","push","utils","user_DomainTablevue_type_script_lang_js_","DomainTable","bindDomainvue_type_script_lang_js_","Table","userData_bindDomainvue_type_script_lang_js_","bindDomain_component","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","setTimeout","apply","_len","Array","_key","callNow","downloadFile","content","filename","eleLink","document","createElement","download","blob","Blob","href","URL","createObjectURL","body","appendChild","removeChild","trim","str","replace","copy","currentFocus","activeElement","input","opacity","scrollY","window","focus","setSelectionRange","execCommand","scrollTo"],"mappings":"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","file":"js/chunk-0bd1.779104d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"inline-block\",\"text-align\":\"left\",\"width\":\"100%\"}},[_c('el-input',{staticStyle:{\"width\":\"55%\"},attrs:{\"placeholder\":_vm.currentDomain.domain ? _vm.currentDomain.domain : _vm.$t('domainTable.none'),\"disabled\":true}}),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.selectDomainVisible = true}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('dashboard.switchDomain'))+\"\\n  \")]),_c('el-dialog',{attrs:{\"title\":_vm.$t('dashboard.switchDomain'),\"visible\":_vm.selectDomainVisible,\"width\":_vm.device === 'mobile' ? '80%' : '30%'},on:{\"update:visible\":function($event){_vm.selectDomainVisible=$event}}},[_c('el-select',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":_vm.$t('domainTable.select')},model:{value:(_vm.selectValue),callback:function ($$v) {_vm.selectValue=$$v},expression:\"selectValue\"}},[_vm._l((_vm.validDomain),function(value){return [(value.isValid === 1)?_c('el-option',{key:value.domain,attrs:{\"label\":value.domain,\"value\":value.domain}}):_vm._e()]})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.selectDomainVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSelect}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"display: inline-block; text-align: left; width: 100%\">\n    <el-input\n      style=\"width: 55%\"\n      :placeholder=\"currentDomain.domain ? currentDomain.domain : $t('domainTable.none')\"\n      :disabled=\"true\"\n    >\n    </el-input>\n    <el-button type=\"primary\" plain @click=\"selectDomainVisible = true\">\n      {{ $t('dashboard.switchDomain') }}\n    </el-button>\n\n    <el-dialog\n      :title=\"$t('dashboard.switchDomain')\"\n      :visible.sync=\"selectDomainVisible\"\n      :width=\"device === 'mobile' ? '80%' : '30%'\">\n      <el-select v-model=\"selectValue\" :placeholder=\"$t('domainTable.select')\" style=\"width: 80%\">\n        <template v-for = \"value in validDomain\">\n          <el-option\n            v-if=\"value.isValid === 1\"\n            :key=\"value.domain\"\n            :label=\"value.domain\"\n            :value=\"value.domain\">\n          </el-option>\n        </template>\n      </el-select>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"selectDomainVisible = false\">{{ $t('common.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"handleSelect\">{{ $t('common.ok')}}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport store from '@/store'\n\nexport default {\n  name: 'SwitchDomain',\n  props: {\n    pcWidth: {\n      type: String,\n      default: '30%'\n    },\n    mobileWidth: {\n      type: String,\n      default: '60%'\n    },\n    finishSelect: {\n      type: Function,\n      required: false\n    }\n  },\n  data() {\n    return {\n      selectValue: '',\n      validDomain: [],\n      selectDomainVisible: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'device',\n      'currentDomain',\n      'userValidDomain'\n    ])\n  },\n  watch: {\n    userValidDomain(val) {\n      if(val)\n        this.validDomain = JSON.parse(val)\n    }\n  },\n  mounted() {\n    if(this.userValidDomain)\n      this.validDomain = JSON.parse(this.userValidDomain)\n  },\n  methods: {\n    handleSelect() {\n      if(this.selectValue) {\n        this.validDomain.forEach(item => {\n          if(item.domain === this.selectValue) {\n            store.dispatch('setCurrentDomain', item).then(() => {\n              this.selectDomainVisible = false\n            })\n          }\n        })\n        if(this.finishSelect)\n          this.finishSelect(this.currentDomain.uid, this.currentDomain.id)\n      }\n    }\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1a9b1896&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=style&index=0&id=4d36ea9b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=style&index=0&id=4d36ea9b&scoped=true&lang=css&\"","import request from '@/utils/request'\nimport { getID } from '@/utils/auth'\n\n// 获取活跃域名总数\nexport function fetchHostNum() {\n  return request({\n    url: `host/num?ts=${((new Date().getTime()) / 1000).toFixed() - 1800}`,\n    method: 'get'\n  })\n}\n\n// 获取域名列表\nexport function fetchDomain(page, pageSize, order, filters) {\n  let url = `host?page=${page}&page_size=${pageSize}&order=${order}`\n  filters.forEach(item => {\n    if(item.value)\n      url += `&${item.name}=${item.value}`\n  })\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 将域名拉黑或从黑名单移除\nexport function blockDomain(data) {\n  return request({\n    url: `/host/block`,\n    method: 'post',\n    data\n  })\n}\n\n// 将域名加入或从白名单移除\nexport function whiteDomain(data) {\n  return request({\n    url: `/host/whitelist`,\n    method: 'post',\n    data\n  })\n}\n\n// 查找域名\nexport function searchHost(host) {\n  return request({\n    url: `host/search?keywords=${host}`,\n    method: 'get'\n  })\n}\n\n// 获取用户列表\nexport function fetchUserList(page, pageSize, order) {\n  return request({\n    url: `user?page=${page}&page_size=${pageSize}&order=${order}`,\n    method: 'get'\n  })\n}\n\n// 获取某用户的域名列表\nexport function fetchUserDomain(page, pageSize) {\n  return request({\n    url: `user/user_id/${getID()}/domain?page=${page}&page_size=${pageSize}`,\n    method: 'get'\n  })\n}\n\n// 绑定域名\nexport function bindDomain(data) {\n  return request({\n    url: `user/user_id/${getID()}/domain`,\n    method: 'post',\n    data\n  })\n}\n\n// 认证域名\nexport function checkDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'post'\n  })\n}\n\n// 用户删除域名\nexport function deleteDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'delete'\n  })\n}\n\n// 管理员权限用户列表\nexport function fetchAdminUser() {\n  return request({\n    url: `user/admin`,\n    method: 'get'\n  })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Table')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticStyle:{\"text-align\":\"left\"}},[_c('el-col',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(_vm._s(_vm.$t('domainTable.bindDomain')))])],1),_c('el-col',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"xs\":24,\"sm\":12,\"lg\":12}},[_c('SwitchDomain',{attrs:{\"mobileWidth\":\"25%\"}})],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"domain\",\"label\":_vm.$t('domainTable.domain')}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":_vm.$t('domainTable.status')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(scope.row.blocked?'color: red':'')},[_vm._v(\"\\n          \"+_vm._s(_vm.formatterStatus(scope.row))+\"\\n        \")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"text\",\"label\":\"text\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('domainTable.operation'),\"align\":\"center\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.blocked)?[(scope.row.isValid !== 1)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleCheck(scope.row)}}},[_vm._v(_vm._s(_vm.$t('domainTable.certification')))]):_vm._e(),_c('el-popover',{ref:'popover-' + scope.row.id,style:(_vm.device==='mobile'?'':'margin-left: 10px'),attrs:{\"trigger\":\"manual\",\"placement\":\"top\",\"width\":\"160\"}},[_c('p',[_vm._v(_vm._s(_vm.$t('domainTable.tip')))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pClose(scope.row.id)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleDeleteDomain(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pShow(scope.row.id)}},slot:\"reference\"},[_vm._v(_vm._s(_vm.$t('domainTable.delete')))])],1)]:_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"layout\":\"sizes, prev, pager, next\",\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.tableParam.pageSize,\"current-page\":_vm.tableParam.page},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.$t('domainTable.verifyDomain'),\"visible\":_vm.checkDialogVisible,\"width\":_vm.device === 'mobile' ? '90%' : '30%'},on:{\"update:visible\":function($event){_vm.checkDialogVisible=$event}}},[_c('el-alert',{staticStyle:{\"text-align\":\"left\"},attrs:{\"title\":\"\",\"type\":\"warning\",\"description\":_vm.$t('domainTable.certificationTip'),\"closable\":false}}),_c('el-form',[_c('el-form-item',{attrs:{\"label\":_vm.$t('domainTable.userVerifyDomain.verifyWay')}},[_c('el-radio',{attrs:{\"label\":\"dns\"},model:{value:(_vm.checkSelect),callback:function ($$v) {_vm.checkSelect=$$v},expression:\"checkSelect\"}},[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.DNSVerify')))]),_c('el-radio',{attrs:{\"label\":\"file\"},model:{value:(_vm.checkSelect),callback:function ($$v) {_vm.checkSelect=$$v},expression:\"checkSelect\"}},[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.fileVerify')))])],1)],1),(_vm.checkSelect === 'dns')?[_c('div',[_c('ol',[_c('li',[_c('div',{staticClass:\"pv-content\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.verifyTipHead'))+_vm._s(_vm.checkDomainData.domain)+_vm._s(_vm.$t('domainTable.userVerifyDomain.verifyTipEnd')))]),_c('h4',[_vm._v(_vm._s(_vm.checkDomainData.text))])])]),_c('li',[_c('div',{staticClass:\"pv-content pv-content-last\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.doneTip')))])])])])])]:[_c('div',[_c('ol',[_c('li',[_c('div',{staticClass:\"pv-content\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.downloadFileHead'))),_c('a',{on:{\"click\":_vm.saveFile}},[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.downloadFileEnd')))])])])]),_c('li',[_c('div',{staticClass:\"pv-content\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.uploadFile'))+\"http://\"+_vm._s(_vm.checkDomainData.domain)+\"/ or https://\"+_vm._s(_vm.checkDomainData.domain)+\"/\")]),_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.fileName')))])])]),_c('li',[_c('div',{staticClass:\"pv-content\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.userVerifyDomain.navVisitHead'))+\"http(s)://\"+_vm._s(_vm.checkDomainData.domain)+\"/auth.txt\"+_vm._s(_vm.$t('domainTable.userVerifyDomain.navVisitEnd')))])])]),_c('li',[_c('div',{staticClass:\"pv-content pv-content-last\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('domainTable.doneTip')))])])])])])],_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.checkDialogVisible = false}}},[_vm._v(_vm._s(_vm.$t('domainTable.verifyLater')))]),_c('el-button',{attrs:{\"loading\":_vm.checkDomainLoading,\"type\":\"primary\"},on:{\"click\":_vm.handleCheckDomain}},[_vm._v(_vm._s(_vm.$t('domainTable.verifyNow')))])],1)],2),_c('el-dialog',{attrs:{\"title\":_vm.$t('domainTable.bindDomain'),\"visible\":_vm.dialogVisible,\"width\":_vm.device === 'mobile' ? '90%' : '50%'},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"domainForm\",attrs:{\"model\":_vm.domainFormData,\"rules\":_vm.domainRules}},[_c('el-form-item',{attrs:{\"prop\":\"domain\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":_vm.$t('domainTable.bindDomainTip')},model:{value:(_vm.domainFormData.domain),callback:function ($$v) {_vm.$set(_vm.domainFormData, \"domain\", $$v)},expression:\"domainFormData.domain\"}})],1)],1),_c('div',{staticClass:\"bind-warning\",style:(_vm.device==='mobile'?'padding: 10px 8px 5px;':'padding: 10px 20px 20px;')},[_vm._v(_vm._s(_vm.$t('domainTable.bindWarning')))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addDomainSubmit}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"app-container\">\n  <el-row style=\"text-align: left\">\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" style=\"margin: 10px 0\">\n      <el-button type=\"primary\" @click=\"dialogVisible = true\">{{ $t('domainTable.bindDomain') }}</el-button>\n    </el-col>\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"12\" style=\"margin: 10px 0\">\n      <SwitchDomain mobileWidth=\"25%\" />\n    </el-col>\n  </el-row>\n\n  <el-table border :data=\"tableData\" v-loading=\"loading\" style=\"width: 100%\">\n    <el-table-column align=\"center\" prop=\"domain\" :label=\"$t('domainTable.domain')\"></el-table-column>\n    <el-table-column align=\"center\" :label=\"$t('domainTable.status')\">\n      <template slot-scope=\"scope\">\n        <span :style=\"scope.row.blocked?'color: red':''\">\n          {{ formatterStatus(scope.row) }}\n        </span>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" prop=\"text\" label=\"text\"></el-table-column>\n    <el-table-column :label=\"$t('domainTable.operation')\" align=\"center\" fixed=\"right\">\n      <template slot-scope=\"scope\">\n        <template v-if=\"!scope.row.blocked\">\n          <el-button v-if=\"scope.row.isValid !== 1\" type=\"primary\" size=\"mini\" @click=\"handleCheck(scope.row)\">{{ $t('domainTable.certification') }}</el-button>\n          <el-popover\n            :style=\"device==='mobile'?'':'margin-left: 10px'\"\n            trigger=\"manual\"\n            placement=\"top\"\n            width=\"160\"\n            :ref=\"'popover-' + scope.row.id\">\n            <p>{{ $t('domainTable.tip') }}</p>\n            <div style=\"text-align: right; margin: 0\">\n              <el-button type=\"text\" size=\"mini\" @click=\"pClose(scope.row.id)\">{{ $t('common.cancel') }}</el-button>\n              <el-button type=\"primary\" size=\"mini\" @click=\"handleDeleteDomain(scope.row)\">{{ $t('common.ok') }}</el-button>\n            </div>\n            <el-button slot=\"reference\" type=\"danger\" size=\"mini\" @click=\"pShow(scope.row.id)\">{{ $t('domainTable.delete') }}</el-button>\n          </el-popover>\n        </template>\n      </template>\n    </el-table-column>\n  </el-table>\n\n  <div class=\"pagination-container\">\n    <el-pagination\n      layout=\"sizes, prev, pager, next\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"tableParam.pageSize\"\n      :current-page=\"tableParam.page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\">\n    </el-pagination>\n  </div>\n\n  <el-dialog\n    :title=\"$t('domainTable.verifyDomain')\"\n    :visible.sync=\"checkDialogVisible\"\n    :width=\"device === 'mobile' ? '90%' : '30%' \">\n    <el-alert\n      title=\"\"\n      style=\"text-align: left\"\n      type=\"warning\" \n      :description=\"$t('domainTable.certificationTip')\"\n      :closable=\"false\">\n    </el-alert>\n    <el-form>\n      <el-form-item :label=\"$t('domainTable.userVerifyDomain.verifyWay')\">\n        <el-radio v-model=\"checkSelect\" label=\"dns\">{{ $t('domainTable.userVerifyDomain.DNSVerify') }}</el-radio>\n        <el-radio v-model=\"checkSelect\" label=\"file\">{{ $t('domainTable.userVerifyDomain.fileVerify') }}</el-radio>\n      </el-form-item>\n    </el-form>\n\n    <template v-if=\"checkSelect === 'dns'\">\n      <div>\n        <ol>\n          <li>\n            <div class=\"pv-content\">\n              <!-- <h4>{{ $t('domainTable.userVerifyDomain.verifyTipHead') }}{{ getDomain(checkDomainData.domain) }}{{ $t('domainTable.userVerifyDomain.verifyTipEnd') }}</h4> -->\n              <h4>{{ $t('domainTable.userVerifyDomain.verifyTipHead') }}{{ checkDomainData.domain }}{{ $t('domainTable.userVerifyDomain.verifyTipEnd') }}</h4>\n              <h4>{{ checkDomainData.text }}</h4>\n            </div>\n          </li>\n          <li>\n            <div class=\"pv-content pv-content-last\">                \n              <h4>{{ $t('domainTable.doneTip') }}</h4>\n            </div>  \n          </li>\n        </ol>\n      </div>\n    </template>\n\n    <template v-else>\n      <div>\n        <ol>\n          <li>\n            <div class=\"pv-content\">\n              <h4>{{ $t('domainTable.userVerifyDomain.downloadFileHead') }}<a @click=\"saveFile\">{{ $t('domainTable.userVerifyDomain.downloadFileEnd') }}</a></h4>\n            </div>\n          </li>\n          <li>\n            <div class=\"pv-content\">\n              <h4>{{ $t('domainTable.userVerifyDomain.uploadFile') }}http://{{checkDomainData.domain}}/ or https://{{checkDomainData.domain}}/</h4>\n              <h4>{{ $t('domainTable.userVerifyDomain.fileName') }}</h4>\n            </div>\n          </li>\n          <li>\n            <div class=\"pv-content\">\n              <h4>{{ $t('domainTable.userVerifyDomain.navVisitHead') }}http(s)://{{checkDomainData.domain}}/auth.txt{{ $t('domainTable.userVerifyDomain.navVisitEnd') }}</h4>\n            </div>  \n          </li>\n          <li>\n            <div class=\"pv-content pv-content-last\">                \n              <h4>{{ $t('domainTable.doneTip') }}</h4>\n            </div>  \n          </li>\n        </ol>\n      </div>\n    </template>\n\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"checkDialogVisible = false\">{{ $t('domainTable.verifyLater') }}</el-button>\n      <el-button :loading=\"checkDomainLoading\" type=\"primary\" @click=\"handleCheckDomain\">{{ $t('domainTable.verifyNow') }}</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog\n    :title=\"$t('domainTable.bindDomain')\"\n    :visible.sync=\"dialogVisible\"\n    :width=\"device === 'mobile' ? '90%' : '50%' \">\n    <el-form ref=\"domainForm\" :model=\"domainFormData\" :rules=\"domainRules\">\n      <el-form-item prop=\"domain\">\n        <el-input \n          type=\"textarea\"\n          :rows=\"3\"\n          v-model=\"domainFormData.domain\"\n          :placeholder=\"$t('domainTable.bindDomainTip')\"/>\n      </el-form-item>\n    </el-form>\n    <div class=\"bind-warning\" :style=\"device==='mobile'?'padding: 10px 8px 5px;':'padding: 10px 20px 20px;'\">{{ $t('domainTable.bindWarning') }}</div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogVisible = false\">{{ $t('common.cancel') }}</el-button>\n      <el-button type=\"primary\" @click=\"addDomainSubmit\">{{ $t('common.ok') }}</el-button>\n    </span>\n  </el-dialog>\n\n</div>\n</template>\n\n  <script>\n  import { fetchUserDomain, bindDomain, checkDomain, deleteDomain } from '@/api/userDomain'\n  import SwitchDomain from '@/components/SwitchDomain'\n  import { validateURL } from '@/utils/validate'\n  import { downloadFile } from '@/utils'\n  import { mapGetters } from 'vuex'\n  import store from '@/store'\n\n  export default {\n    name: 'UserDomain',\n    components: {\n      SwitchDomain\n    },\n    data() {\n      const formValidateURL = (rule, value, callback) => {\n        if(!validateURL(value)) {\n          const error = this.$t('domainTable.bindDomainTError')\n          callback(new Error(error))\n        } else {\n          callback()\n        }\n      }\n      return {\n        loading: false,\n        tableData: [],\n        tableParam: {\n          page: 1,\n          pageSize: 10\n        },\n        dialogVisible: false,\n\n        checkDialogVisible: false,\n        checkSelect: 'dns',\n        checkDomainLoading: false,\n        checkDomainData: {\n          domain: '',\n          text: '',\n          id: 0,\n        },\n\n        domainFormData: {\n          domain: ''\n        },\n        domainRules: {\n          domain: [{ required: true, trigger: 'blur', validator: formValidateURL }],\n        }\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'device'\n      ])\n    },\n    methods: {\n      pClose(id) {\n        this.$refs[`popover-` + id].doClose()\n      },\n      pShow(id) {\n        this.$refs[`popover-` + id].doShow()\n      },\n      fetchTableData(page=this.tableParam.page, pageSize=this.tableParam.pageSize) {\n        this.loading = true\n        fetchUserDomain(page, pageSize).then(res => {\n          if(res.data) {\n            this.tableData = [...res.data].filter((item) => item.native === false)\n            const validDomain = res.data.filter(item => item.isValid === 1)\n            store.dispatch('setValidDomain', validDomain)\n          }\n          this.loading = false\n        }).catch(err => {\n          this.loading = false\n          console.log(err)\n        })\n      },\n      handleSizeChange(pageSize) {\n        this.tableParam.pageSize = pageSize\n        this.fetchTableData()\n      },\n      handleCurrentChange(page) {\n        this.tableParam.page = page\n        this.fetchTableData()\n      },\n      handleCheck(data) {\n        this.checkDomainData = {...data}\n        this.checkDialogVisible = true\n      },\n      handleCheckDomain() {\n        this.checkDomainLoading = true\n        checkDomain(this.checkDomainData.id).then(res => {\n          this.fetchTableData()\n          this.$message({\n            message: this.$t('domainTable.verifySuccess'),\n            type: 'success'\n          })\n          this.checkDomainLoading = false\n          this.checkDialogVisible = false\n        }).catch(err => {\n          this.checkDomainLoading = false\n          console.log(err)\n        })\n      },\n      // getDomain(domain) {\n      //   let temp = ''\n      //   temp = domain.replace('http://', '')\n      //   temp = temp.replace('https://', '')\n      //   if (temp.indexOf('/') > -1)\n      //     temp = temp.substr(0, temp.indexOf('/'))\n      //   if (temp.indexOf(':') > -1)\n      //     temp = temp.substr(0, temp.indexOf(':'))\n      //   const arr = temp.split('.')\n      //   return arr[arr.length - 2] + '.' + arr[arr.length - 1]\n      // },\n      handleDeleteDomain(domainData) {\n        deleteDomain(domainData.id).then(res => {\n          this.$message({\n            message: this.$t('common.deleteSuccess'),\n            type: 'success'\n          })\n          this.tableData = this.tableData.filter(item => {\n            return item.id !== domainData.id\n          })\n          this.pClose(domainData.id)\n        }).catch(err => {\n          this.pClose(domainData.id)\n          console.log(err)\n        })\n      },\n      addDomainSubmit() {\n        this.$refs.domainForm.validate(valid => {\n          if(valid) {\n            bindDomain(this.domainFormData).then(res => {\n              this.dialogVisible = false\n              this.tableData.push(res.data)\n            }).catch(error => {\n              console.log(error)\n            })\n          } else {\n            return false\n          }\n        })\n      },\n      formatterStatus(row) {\n        if(row.blocked) {\n          return this.$t('domainTable.illegal')\n        }\n        return row.isValid === 0 ? this.$t('domainTable.unavailable') : this.$t('domainTable.available')\n      },\n      saveFile() {\n        downloadFile(this.checkDomainData.text, 'auth.txt')\n      },\n    },\n    mounted() {\n      this.fetchTableData()\n    }\n  }\n  </script>\n\n<style scoped>\n  ol {\n    display: table;\n    width: 100%;\n    margin: 0\n  }\n  a {\n    color: #006eff;\n    margin-left: 5px;\n  }\n  li {\n    position: relative;\n    min-height: 50px;\n    display: table-row;\n    table-layout: fixed;\n    text-align: left;\n  }\n  h4 {\n    font-weight: 400;\n  }\n  .pv-content {\n    display: table-cell;\n    padding: 0 0 22px 24px;\n    position: relative;\n    min-height: 28px;\n    vertical-align: top;\n  }\n  .pv-content-last:before {\n    display: none !important;\n  }\n  .pv-content:before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 10px;\n    bottom: -4px;\n    left: -2px;\n    border-left: 1px solid #ddd;\n  }\n  .pv-content:after {\n    top: 3px;\n    left: -5px;\n    width: 7px;\n    height: 7px;\n    border-color: #006eff;\n    background-color: #006eff;\n\n    content: \"\";\n    display: inline-block;\n    position: absolute;\n    border-radius: 100%;\n    border: 2px solid transparent;\n  }\n  .bind-warning {\n    text-align: left;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    \n    width: 50%;\n  }\n</style>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainTable.vue?vue&type=template&id=4d36ea9b&scoped=true&\"\nimport script from \"./DomainTable.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DomainTable.vue?vue&type=style&index=0&id=4d36ea9b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d36ea9b\",\n  null\n  \n)\n\ncomponent.options.__file = \"DomainTable.vue\"\nexport default component.exports","<template>\n  <Table />\n</template>\n\n<script>\nimport Table from './components/user/DomainTable'\n\nexport default {\n  name: 'Domain',\n  components: {\n    Table\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindDomain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bindDomain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bindDomain.vue?vue&type=template&id=4bd2e7fe&\"\nimport script from \"./bindDomain.vue?vue&type=script&lang=js&\"\nexport * from \"./bindDomain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"bindDomain.vue\"\nexport default component.exports","export function debounce(func, wait, immediate) {\n  let timeout, args, context, timestamp, result\n\n  const later = function() {\n    // 据上一次触发时间间隔\n    const last = + new Date() - timestamp\n\n    // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last)\n    } else {\n      timeout = null\n      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\n      if (!immediate) {\n        result = func.apply(context, args)\n        if (!timeout) context = args = null\n      }\n    }\n  }\n\n  return function(...args) {\n    context = this\n    timestamp = + new Date()\n    const callNow = immediate && !timeout\n    // 如果延时不存在，重新设定延时\n    if (!timeout) timeout = setTimeout(later, wait)\n    if (callNow) {\n      result = func.apply(context, args)\n      context = args = null\n    }\n\n    return result\n  }\n}\n\nexport function downloadFile(content, filename) {\n  // 创建隐藏的可下载链接\n  var eleLink = document.createElement('a')\n  eleLink.download = filename\n  eleLink.style.display = 'none'\n  // 字符内容转变成blob地址\n  var blob = new Blob([content])\n  eleLink.href = URL.createObjectURL(blob)\n  // 触发点击\n  document.body.appendChild(eleLink)\n  eleLink.click()\n  // 然后移除\n  document.body.removeChild(eleLink)\n}\n\n//删除左右两端的空格\nexport function trim(str){\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n}\n\nexport function copy(value, callback) {\n  var currentFocus = document.activeElement;// 保存当前活动节点\n  \n  let input = document.createElement('input');// 创建一个input标签\n  document.body.appendChild(input);// 把标签添加给body\n  input.style.opacity = 0;//设置input标签设置为透明(不可见)\n  input.value = value;// 把需要复制的值放到input上\n\n  // 记录当前滚动位置, 因为添加节点并选中的时候回影响页面滚动\n  let scrollY = window.scrollY;\n\n  input.focus();// input节点获取焦点\n  input.setSelectionRange(0, input.value.length);// 选中input框中的所有文字\n\n  var res = document.execCommand('copy', true);// 复制文字并获取结果\n\n  currentFocus.focus();// 之前活动节点获得焦点\n  document.body.removeChild(input);// 删除添加的input节点\n\n  // 页面滚动到之前位置\n  window.scrollTo(0, scrollY);\n  \n  callback();\n  return res;// 返回操作结果\n}\n\n"],"sourceRoot":""}