(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f48"],{"9cf4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:"mobile"===t.device?"":"padding: 30px 120px"},[n("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:t.$t("p2pConfig.desc")}}),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.tableData}},[n("el-table-column",{attrs:{align:"center",prop:"domain",label:t.$t("domainTable.domain")}}),n("el-table-column",{attrs:{align:"center",formatter:t.formatterStatus,label:t.$t("p2pConfig.status")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{style:e.row.blocked?"color: red":""},[t._v("\n          "+t._s(t.formatterStatus(e.row))+"\n        ")])]}}])}),n("el-table-column",{attrs:{label:t.$t("domainTable.operation"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.blocked?t._e():n("el-switch",{attrs:{value:!e.row.disable_p2p,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return t.handleSwitchChange(e.row,n)}}})]}}])})],1)],1)},o=[],c=(n("ac6a"),n("c93e")),i=(n("cadf"),n("551c"),n("097d"),n("a877")),r=n("b775");function u(t,e,n){return Object(r["a"])({url:"user/user_id/".concat(t,"/domain/domain_id/").concat(e,"/control"),method:"post",data:n})}var d=n("2f62"),l={name:"P2PConfig",data:function(){return{loading:!1,tableData:[],switchValue:!0}},computed:Object(c["a"])({},Object(d["b"])(["device"])),mounted:function(){this.fetchTableData(1,20)},methods:{formatterStatus:function(t){return t.blocked?this.$t("p2pConfig.illegal"):t.disable_p2p?this.$t("p2pConfig.close"):this.$t("p2pConfig.open")},fetchTableData:function(t,e){var n=this;this.loading=!0,Object(i["h"])(t,e).then(function(t){t.data&&(n.tableData=t.data.filter(function(t){return 1===t.isValid})),n.loading=!1}).catch(function(t){n.loading=!1,console.log(t)})},handleP2PConfig:function(t,e,n){var a=this;this.loading=!0,u(t,e,n).then(function(t){t.data.succeed?(a.$message({message:a.$t("p2pConfig.configSuccess"),type:"success"}),a.tableData.forEach(function(t){t.id===e&&(t.disable_p2p=n.disable)})):a.$message.error(a.$t("p2pConfig.configFail")),a.loading=!1}).catch(function(t){a.loading=!1,console.log(t)})},handleSwitchChange:function(t,e){var n={disable:!e};this.handleP2PConfig(t.uid,t.id,n)}}},s=l,f=n("2877"),b=Object(f["a"])(s,a,o,!1,null,null,null);b.options.__file="index.vue";e["default"]=b.exports},a877:function(t,e,n){"use strict";n.d(e,"g",function(){return c}),n.d(e,"f",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"k",function(){return u}),n.d(e,"j",function(){return d}),n.d(e,"i",function(){return l}),n.d(e,"h",function(){return s}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return p});n("7f7f"),n("ac6a"),n("cadf"),n("551c"),n("097d");var a=n("b775"),o=n("5f87");function c(){return Object(a["a"])({url:"host/num?ts=".concat(((new Date).getTime()/1e3).toFixed()-1800),method:"get"})}function i(t,e,n,o){var c="host?page=".concat(t,"&page_size=").concat(e,"&order=").concat(n);return o.forEach(function(t){t.value&&(c+="&".concat(t.name,"=").concat(t.value))}),Object(a["a"])({url:c,method:"get"})}function r(t){return Object(a["a"])({url:"/host/block",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/host/whitelist",method:"post",data:t})}function d(t){return Object(a["a"])({url:"host/search?keywords=".concat(t),method:"get"})}function l(t,e,n){return Object(a["a"])({url:"user?page=".concat(t,"&page_size=").concat(e,"&order=").concat(n),method:"get"})}function s(t,e){return Object(a["a"])({url:"user/user_id/".concat(Object(o["a"])(),"/domain?page=").concat(t,"&page_size=").concat(e),method:"get"})}function f(t){return Object(a["a"])({url:"user/user_id/".concat(Object(o["a"])(),"/domain"),method:"post",data:t})}function b(t){return Object(a["a"])({url:"user/user_id/".concat(Object(o["a"])(),"/domain/domain_id/").concat(t),method:"post"})}function h(t){return Object(a["a"])({url:"user/user_id/".concat(Object(o["a"])(),"/domain/domain_id/").concat(t),method:"delete"})}function p(){return Object(a["a"])({url:"user/admin",method:"get"})}}}]);
//# sourceMappingURL=chunk-3f48.131e715d.js.map