{"version":3,"sources":["webpack:///./src/views/userData/userList.vue?1fbb","webpack:///src/views/userData/userList.vue","webpack:///./src/views/userData/userList.vue?a3c6","webpack:///./src/views/userData/userList.vue","webpack:///./src/api/userDomain.js","webpack:///./src/api/user.js","webpack:///./src/utils/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin","attrs","type","justify","gutter","span","float","on","change","selectChange","model","value","callback","$$v","selectValue","expression","_l","item","key","label","showAdminUser","showAdmin","_v","prefix-icon","placeholder","nativeOn","keyup","$event","_k","keyCode","handleSearch","searchValue","directives","name","rawName","width","data","tableData","align","prop","scopedSlots","_u","fn","scope","ref","row","username","trigger","placement","_s","enable","text-align","size","click","pClose","$t","handleFrozenUser","slot","active-color","pShow","uid","admin","handleAdminUser","class-name","copyPassword","raw_pass","layout","page-sizes","page-size","tableParam","pageSize","current-page","page","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","userListvue_type_script_lang_js_","loading","selectOptions","mounted","fetchTableData","methods","id","$refs","doShow","doClose","_this","Object","userDomain","then","res","toConsumableArray","catch","err","console","log","formatData","temp","forEach","reg_date","moment_default","format","checkin","_this2","arguments","length","undefined","order","user","_this3","frozen","api_user","$message","message","_this4","_this5","pw","_this6","utils","success","userData_userListvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","fetchHostNum","_utils_request__WEBPACK_IMPORTED_MODULE_5__","url","Date","getTime","toFixed","method","fetchDomain","filters","concat","blockDomain","whiteDomain","searchHost","host","fetchUserList","fetchUserDomain","_utils_auth__WEBPACK_IMPORTED_MODULE_6__","bindDomain","checkDomain","domainID","deleteDomain","fetchAdminUser","__webpack_require__","d","fetchUserData","changePasswd","changeMail","frozenUser","adminUser","searchUser","_utils_request__WEBPACK_IMPORTED_MODULE_0__","_utils_auth__WEBPACK_IMPORTED_MODULE_1__","mail","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","setTimeout","apply","_len","Array","_key","callNow","downloadFile","content","filename","eleLink","document","createElement","download","style","display","blob","Blob","href","URL","createObjectURL","body","appendChild","removeChild","trim","str","replace","copy","currentFocus","activeElement","input","opacity","scrollY","window","focus","setSelectionRange","execCommand","scrollTo"],"mappings":"qHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,UAAeG,aAAaC,OAAA,UAAkBC,OAAQC,KAAA,OAAAC,QAAA,gBAAAC,OAAA,MAAqDR,EAAA,UAAeK,OAAOI,KAAA,MAAWT,EAAA,aAAkBE,YAAA,cAAAC,aAAuCO,MAAA,QAAeC,IAAKC,OAAAhB,EAAAiB,cAA0BC,OAAQC,MAAAnB,EAAA,YAAAoB,SAAA,SAAAC,GAAiDrB,EAAAsB,YAAAD,GAAoBE,WAAA,gBAA2BvB,EAAAwB,GAAAxB,EAAA,uBAAAyB,GAA2C,OAAArB,EAAA,aAAuBsB,IAAAD,EAAAN,MAAAV,OAAsBkB,MAAAF,EAAAE,MAAAR,MAAAM,EAAAN,aAAyC,GAAAf,EAAA,UAAoBK,OAAOI,KAAA,MAAWT,EAAA,eAAoBW,IAAIC,OAAAhB,EAAA4B,eAA2BV,OAAQC,MAAAnB,EAAA,UAAAoB,SAAA,SAAAC,GAA+CrB,EAAA6B,UAAAR,GAAkBE,WAAA,eAAyBvB,EAAA8B,GAAA,eAAA1B,EAAA,UAAqCK,OAAOI,KAAA,MAAWT,EAAA,YAAiBE,YAAA,cAAAG,OAAiCsB,cAAA,iBAAAC,YAAA,SAAqDC,UAAWC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAnC,EAAAoC,GAAAD,EAAAE,QAAA,WAAAF,EAAAT,IAAA,SAA+F1B,EAAAsC,aAAAH,GAAf,OAAgDjB,OAAQC,MAAAnB,EAAA,YAAAoB,SAAA,SAAAC,GAAiDrB,EAAAuC,YAAAlB,GAAoBE,WAAA,kBAA2B,OAAAnB,EAAA,YAAyBoC,aAAaC,KAAA,UAAAC,QAAA,YAAAvB,MAAAnB,EAAA,QAAAuB,WAAA,YAA4EhB,aAAeoC,MAAA,QAAelC,OAAQmC,KAAA5C,EAAA6C,aAAsBzC,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,MAAApB,MAAA,QAA4CvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,WAAApB,MAAA,SAAkDvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,QAAApB,MAAA,QAA8CvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,WAAApB,MAAA,UAAmDvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,UAAApB,MAAA,YAAoDvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,SAAApB,MAAA,QAA+CvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAC,KAAA,QAAApB,MAAA,SAA+CvB,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAnB,MAAA,QAAgCqB,YAAAhD,EAAAiD,KAAsBvB,IAAA,UAAAwB,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,cAAyBgD,IAAA,WAAAD,EAAAE,IAAAC,SAAA7C,OAA2C8C,QAAA,SAAAC,UAAA,MAAAb,MAAA,SAAoDvC,EAAA,KAAAJ,EAAA8B,GAAA9B,EAAAyD,GAAAN,EAAAE,IAAAK,OAAA,0BAAAtD,EAAA,OAAiFG,aAAaoD,aAAA,QAAAnD,OAAA,OAAmCJ,EAAA,aAAkBK,OAAOC,KAAA,OAAAkD,KAAA,QAA4B7C,IAAK8C,MAAA,SAAA1B,GAAyBnC,EAAA8D,OAAAX,EAAAE,IAAAC,cAAiCtD,EAAA8B,GAAA9B,EAAAyD,GAAAzD,EAAA+D,GAAA,qBAAA3D,EAAA,aAA4DK,OAAOC,KAAA,UAAAkD,KAAA,QAA+B7C,IAAK8C,MAAA,SAAA1B,GAAyBnC,EAAAgE,iBAAAb,EAAAE,SAAkCrD,EAAA8B,GAAA9B,EAAAyD,GAAAzD,EAAA+D,GAAA,qBAAA3D,EAAA,aAA4DK,OAAOwD,KAAA,YAAA9C,MAAA,IAAAgC,EAAAE,IAAAK,OAAAQ,eAAA,OAAqEnD,IAAKC,OAAA,SAAAmB,GAA0BnC,EAAAmE,MAAAhB,EAAAE,IAAAC,YAA+BW,KAAA,eAAkB,UAAW7D,EAAA,mBAAwBK,OAAOqC,MAAA,SAAAnB,MAAA,SAAiCqB,YAAAhD,EAAAiD,KAAsBvB,IAAA,UAAAwB,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,cAAyBgD,IAAA,WAAAD,EAAAE,IAAAe,IAAA3D,OAAsC8C,QAAA,SAAAC,UAAA,MAAAb,MAAA,SAAoDvC,EAAA,KAAAJ,EAAA8B,GAAA9B,EAAAyD,GAAAN,EAAAE,IAAAgB,MAAA,uCAAAjE,EAAA,OAA6FG,aAAaoD,aAAA,QAAAnD,OAAA,OAAmCJ,EAAA,aAAkBK,OAAOC,KAAA,OAAAkD,KAAA,QAA4B7C,IAAK8C,MAAA,SAAA1B,GAAyBnC,EAAA8D,OAAAX,EAAAE,IAAAe,SAA4BpE,EAAA8B,GAAA9B,EAAAyD,GAAAzD,EAAA+D,GAAA,qBAAA3D,EAAA,aAA4DK,OAAOC,KAAA,UAAAkD,KAAA,QAA+B7C,IAAK8C,MAAA,SAAA1B,GAAyBnC,EAAAsE,gBAAAnB,EAAAE,SAAiCrD,EAAA8B,GAAA9B,EAAAyD,GAAAzD,EAAA+D,GAAA,qBAAA3D,EAAA,aAA4DK,OAAOwD,KAAA,YAAA9C,MAAAgC,EAAAE,IAAAgB,MAAAH,eAAA,WAAoEnD,IAAKC,OAAA,SAAAmB,GAA0BnC,EAAAmE,MAAAhB,EAAAE,IAAAe,OAA0BH,KAAA,eAAkB,UAAW7D,EAAA,mBAAwBK,OAAOkB,MAAA,SAAAmB,MAAA,SAAAyB,aAAA,6BAA2EvB,YAAAhD,EAAAiD,KAAsBvB,IAAA,UAAAwB,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,aAAwBK,OAAOC,KAAA,UAAAkD,KAAA,QAA+B7C,IAAK8C,MAAA,SAAA1B,GAAyBnC,EAAAwE,aAAArB,EAAAE,IAAAoB,cAAuCzE,EAAA8B,GAAA,kBAAwB,GAAA1B,EAAA,OAAgBE,YAAA,yBAAmCF,EAAA,iBAAsBK,OAAOiE,OAAA,2BAAAC,cAAA,cAAAC,YAAA5E,EAAA6E,WAAAC,SAAAC,eAAA/E,EAAA6E,WAAAG,MAA0IjE,IAAKkE,cAAAjF,EAAAkF,iBAAAC,iBAAAnF,EAAAoF,wBAA6E,QACntIC,sHCkGAC,GACA1C,KADA,WAEA,OACA2C,SAAA,EACA1C,aACAgC,YACAG,KAAA,EACAF,SAAA,IAEAjD,WAAA,EACAU,YAAA,GACAjB,YAAA,MACAkE,gBAEA7D,MAAA,KACAR,MAAA,QAGAQ,MAAA,KACAR,MAAA,UAGAQ,MAAA,MACAR,MAAA,aAGAQ,MAAA,OACAR,MAAA,aAGAQ,MAAA,MACAR,MAAA,UAGAQ,MAAA,KACAR,MAAA,WAGAQ,MAAA,OACAR,MAAA,aAKAsE,QA5CA,WA6CAxF,KAAAyF,kBAEAC,SACAxB,MADA,SACAyB,GACA3F,KAAA4F,MAAA,WAAAD,GAAAE,UAEAhC,OAJA,SAIA8B,GACA3F,KAAA4F,MAAA,WAAAD,GAAAG,WAEAnE,cAPA,SAOAT,GAAA,IAAA6E,EAAA/F,KACAA,KAAAsF,SAAA,EACApE,EACQ8E,OAAAC,EAAA,KAAAD,GACRE,KAAA,SAAAC,GACAA,EAAAxD,OACAoD,EAAAT,SAAA,EACAS,EAAAnD,UAAAoD,OAAAI,EAAA,KAAAJ,CAAAG,EAAAxD,SAGA0D,MAAA,SAAAC,GACAP,EAAAT,SAAA,EACAS,EAAAnD,aACA2D,QAAAC,IAAAF,KAGAtG,KAAAyF,kBAGAgB,WA1BA,SA0BA9D,GACA,IAAA+D,EAAAV,OAAAI,EAAA,KAAAJ,CAAArD,GAKA,OAJA+D,EAAAC,QAAA,SAAAnF,GACAA,EAAAoF,SAAAC,IAAA,IAAArF,EAAAoF,UAAAE,OAAA,oBACAtF,EAAAuF,QAAAF,IAAArF,EAAAuF,SAAAD,OAAA,sBAEAJ,GAEAjB,eAlCA,WAkCA,IAAAuB,EAAAhH,KAAA+E,EAAAkC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAjH,KAAA4E,WAAAG,KAAAF,EAAAoC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAjH,KAAA4E,WAAAC,SAAAuC,EAAAH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAjH,KAAAqB,YACArB,KAAAsF,SAAA,EACMU,OAAAC,EAAA,KAAAD,CAANjB,EAAAF,EAAAuC,GAAAlB,KAAA,SAAAC,GACAA,EAAAxD,OACAqE,EAAApE,UAAAoE,EAAAP,WAAAN,EAAAxD,OAEAqE,EAAA1B,SAAA,IACAe,MAAA,SAAAC,GACAU,EAAApE,aACAoE,EAAA1B,SAAA,EACAiB,QAAAC,IAAAF,MAGAvC,iBA/CA,SA+CAsD,GAAA,IAAAC,EAAAtH,KACA2C,GACAwB,IAAAkD,EAAAlD,IACAoD,SAAAF,EAAA5D,QAEAzD,KAAAsF,SAAA,EACMU,OAAAwB,EAAA,KAAAxB,CAANrD,GACAuD,KAAA,SAAAC,GACAmB,EAAAzD,OAAAwD,EAAAhE,UACAiE,EAAAhC,SAAA,EACAgC,EAAAG,UACAhH,KAAA,UACAiH,QAAA,SAEAJ,EAAA1E,UAAA+D,QAAA,SAAAnF,GACAA,EAAA2C,MAAAxB,EAAAwB,MACA3C,EAAAiC,OAAAd,EAAA4E,OAAA,SAGAlB,MAAA,SAAAC,GACAgB,EAAAhC,SAAA,EACAiB,QAAAC,IAAAF,MAGAjC,gBAvEA,SAuEAgD,GAAA,IAAAM,EAAA3H,KACAA,KAAAsF,SAAA,EACMU,OAAAwB,EAAA,KAAAxB,EACN7B,IAAAkD,EAAAlD,IACAC,OAAAiD,EAAAjD,QAEA8B,KAAA,SAAAC,GACAwB,EAAA9D,OAAAwD,EAAAlD,KACAwD,EAAArC,SAAA,EACAqC,EAAAF,UACAhH,KAAA,UACAiH,QAAA,SAEAC,EAAA/E,UAAA+D,QAAA,SAAAnF,GACAA,EAAA2C,MAAAkD,EAAAlD,MACA3C,EAAA4C,OAAA5C,EAAA4C,WAGAiC,MAAA,SAAAC,GACAqB,EAAArC,SAAA,EACAiB,QAAAC,IAAAF,MAGAjE,aA9FA,WA8FA,IAAAuF,EAAA5H,KACAA,KAAAsC,YACQ0D,OAAAwB,EAAA,KAAAxB,CAARhG,KAAAsC,aACA4D,KAAA,SAAAC,GACAyB,EAAAhF,UAAAoD,OAAAI,EAAA,KAAAJ,CAAAG,EAAAxD,QAEA0D,MAAA,SAAAC,GACAsB,EAAAhF,aACA2D,QAAAC,IAAAF,KAGAtG,KAAAyF,kBAGAR,iBA5GA,SA4GAJ,GACA7E,KAAA4E,WAAAC,WACA7E,KAAAyF,kBAEAN,oBAhHA,SAgHAJ,GACA/E,KAAA4E,WAAAG,OACA/E,KAAAyF,kBAEAzE,aApHA,WAqHAhB,KAAAyF,kBAEAlB,aAvHA,SAuHAsD,GAAA,IAAAC,EAAA9H,KACMgG,OAAA+B,EAAA,KAAA/B,CAAN6B,EAAA,WAAAC,EAAAL,SAAAO,QAAA,oBC1QwSC,EAAA,cCOxSC,EAAgBlC,OAAAmC,EAAA,KAAAnC,CACdiC,EACAnI,EACAsF,GACF,EACA,KACA,KACA,MAIA8C,EAAAE,QAAAC,OAAA,eACeC,EAAA,WAAAJ,2dCfR,SAASK,IACd,OAAOvC,OAAAwC,EAAA,KAAAxC,EACLyC,4BAAsB,IAAIC,MAAOC,UAAa,KAAMC,UAAY,MAChEC,OAAQ,QAKL,SAASC,EAAY/D,EAAMF,EAAUuC,EAAO2B,GACjD,IAAIN,sBAAmB1D,EAAnB,eAAAiE,OAAqCnE,EAArC,WAAAmE,OAAuD5B,GAK3D,OAJA2B,EAAQpC,QAAQ,SAAAnF,GACXA,EAAKN,QACNuH,cAAWjH,EAAKgB,KAAhB,KAAAwG,OAAwBxH,EAAKN,UAE1B8E,OAAAwC,EAAA,KAAAxC,EACLyC,MACAI,OAAQ,QAKL,SAASI,EAAYtG,GAC1B,OAAOqD,OAAAwC,EAAA,KAAAxC,EACLyC,kBACAI,OAAQ,OACRlG,SAKG,SAASuG,EAAYvG,GAC1B,OAAOqD,OAAAwC,EAAA,KAAAxC,EACLyC,sBACAI,OAAQ,OACRlG,SAKG,SAASwG,EAAWC,GACzB,OAAOpD,OAAAwC,EAAA,KAAAxC,EACLyC,mCAA6BW,GAC7BP,OAAQ,QAKL,SAASQ,EAActE,EAAMF,EAAUuC,GAC5C,OAAOpB,OAAAwC,EAAA,KAAAxC,EACLyC,wBAAkB1D,EAAlB,eAAAiE,OAAoCnE,EAApC,WAAAmE,OAAsD5B,GACtDyB,OAAQ,QAKL,SAASS,EAAgBvE,EAAMF,GACpC,OAAOmB,OAAAwC,EAAA,KAAAxC,EACLyC,2BAAqBzC,OAAAuD,EAAA,KAAAvD,GAArB,iBAAAgD,OAA4CjE,EAA5C,eAAAiE,OAA8DnE,GAC9DgE,OAAQ,QAKL,SAASW,EAAW7G,GACzB,OAAOqD,OAAAwC,EAAA,KAAAxC,EACLyC,2BAAqBzC,OAAAuD,EAAA,KAAAvD,GAArB,WACA6C,OAAQ,OACRlG,SAKG,SAAS8G,EAAYC,GAC1B,OAAO1D,OAAAwC,EAAA,KAAAxC,EACLyC,2BAAqBzC,OAAAuD,EAAA,KAAAvD,GAArB,sBAAAgD,OAAiDU,GACjDb,OAAQ,SAKL,SAASc,EAAaD,GAC3B,OAAO1D,OAAAwC,EAAA,KAAAxC,EACLyC,2BAAqBzC,OAAAuD,EAAA,KAAAvD,GAArB,sBAAAgD,OAAiDU,GACjDb,OAAQ,WAKL,SAASe,IACd,OAAO5D,OAAAwC,EAAA,KAAAxC,EACLyC,iBACAI,OAAQ,4CC/FZgB,EAAAC,EAAAxB,EAAA,sBAAAyB,IAAAF,EAAAC,EAAAxB,EAAA,sBAAA0B,IAAAH,EAAAC,EAAAxB,EAAA,sBAAA2B,IAAAJ,EAAAC,EAAAxB,EAAA,sBAAA4B,IAAAL,EAAAC,EAAAxB,EAAA,sBAAA6B,IAAAN,EAAAC,EAAAxB,EAAA,sBAAA8B,IAAA,IAAAC,EAAAR,EAAA,QAAAS,EAAAT,EAAA,QAIO,SAASE,IACd,OAAO/D,OAAAqE,EAAA,KAAArE,EACLyC,2BAAqBzC,OAAAsE,EAAA,KAAAtE,GAArB,YACA6C,OAAQ,QAKL,SAASmB,EAAarH,GAC3B,OAAOqD,OAAAqE,EAAA,KAAArE,EACLyC,2BAAqBzC,OAAAsE,EAAA,KAAAtE,GAArB,mBACA6C,OAAQ,MACRlG,SAKG,SAASsH,EAAWtH,GACzB,OAAOqD,OAAAqE,EAAA,KAAArE,EACLyC,2BAAqBzC,OAAAsE,EAAA,KAAAtE,GAArB,kBACA6C,OAAQ,MACRlG,SAKG,SAASuH,EAAWvH,GACzB,OAAOqD,OAAAqE,EAAA,KAAArE,EACLyC,kBACAI,OAAQ,OACRlG,SAKG,SAASwH,EAAUxH,GACxB,OAAOqD,OAAAqE,EAAA,KAAArE,EACLyC,iBACAI,OAAQ,OACRlG,SAKG,SAASyH,EAAWG,GACzB,OAAOvE,OAAAqE,EAAA,KAAArE,EACLyC,mCAA6B8B,GAC7B1B,OAAQ,sLCnDL,SAAS2B,EAASC,EAAMC,EAAMC,GACnC,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAEjCC,EAAQ,SAARA,IAEJ,IAAMC,GAAS,IAAIxC,KAASqC,EAGxBG,EAAOR,GAAQQ,EAAO,EACxBN,EAAUO,WAAWF,EAAOP,EAAOQ,IAEnCN,EAAU,KAELD,IACHK,EAASP,EAAKW,MAAMN,EAASD,GACxBD,IAASE,EAAUD,EAAO,SAKrC,OAAO,WAAkB,QAAAQ,EAAApE,UAAAC,OAAN2D,EAAM,IAAAS,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANV,EAAMU,GAAAtE,UAAAsE,GACvBT,EAAU9K,KACV+K,GAAc,IAAIrC,KAClB,IAAM8C,EAAUb,IAAcC,EAQ9B,OANKA,IAASA,EAAUO,WAAWF,EAAOP,IACtCc,IACFR,EAASP,EAAKW,MAAMN,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,GAIJ,SAASS,EAAaC,EAASC,GAEpC,IAAIC,EAAUC,SAASC,cAAc,KACrCF,EAAQG,SAAWJ,EACnBC,EAAQI,MAAMC,QAAU,OAExB,IAAIC,EAAO,IAAIC,MAAMT,IACrBE,EAAQQ,KAAOC,IAAIC,gBAAgBJ,GAEnCL,SAASU,KAAKC,YAAYZ,GAC1BA,EAAQhI,QAERiI,SAASU,KAAKE,YAAYb,GAIrB,SAASc,EAAKC,GACjB,OAAOA,EAAIC,QAAQ,iBAAkB,IAGlC,SAASC,EAAK3L,EAAOC,GAC1B,IAAI2L,EAAejB,SAASkB,cAExBC,EAAQnB,SAASC,cAAc,SACnCD,SAASU,KAAKC,YAAYQ,GAC1BA,EAAMhB,MAAMiB,QAAU,EACtBD,EAAM9L,MAAQA,EAGd,IAAIgM,EAAUC,OAAOD,QAErBF,EAAMI,QACNJ,EAAMK,kBAAkB,EAAGL,EAAM9L,MAAMgG,QAEvC,IAAIf,EAAM0F,SAASyB,YAAY,QAAQ,GASvC,OAPAR,EAAaM,QACbvB,SAASU,KAAKE,YAAYO,GAG1BG,OAAOI,SAAS,EAAGL,GAEnB/L,IACOgF","file":"js/chunk-440c.95bb3b42.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"float\":\"left\"},on:{\"change\":_vm.selectChange},model:{value:(_vm.selectValue),callback:function ($$v) {_vm.selectValue=$$v},expression:\"selectValue\"}},_vm._l((_vm.selectOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-checkbox',{on:{\"change\":_vm.showAdminUser},model:{value:(_vm.showAdmin),callback:function ($$v) {_vm.showAdmin=$$v},expression:\"showAdmin\"}},[_vm._v(\"显示管理员\")])],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"filter-item\",attrs:{\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"请输入邮箱\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"uid\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"reg_date\",\"label\":\"注册时间\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"checkin\",\"label\":\"最近签到时间\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"domain\",\"label\":\"域名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"agent\",\"label\":\"代理商\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"禁用状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row.username,attrs:{\"trigger\":\"manual\",\"placement\":\"top\",\"width\":\"160\"}},[_c('p',[_vm._v(_vm._s(scope.row.enable ? '确认禁用该用户？' : '取消禁用该用户？'))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pClose(scope.row.username)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleFrozenUser(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.enable===0,\"active-color\":\"red\"},on:{\"change\":function($event){_vm.pShow(scope.row.username)}},slot:\"reference\"})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"管理员权限\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row.uid,attrs:{\"trigger\":\"manual\",\"placement\":\"top\",\"width\":\"160\"}},[_c('p',[_vm._v(_vm._s(scope.row.admin ? '确认取消该用户的管理员权限吗？' : '确定将该用户设置为管理员吗？'))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pClose(scope.row.uid)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleAdminUser(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.admin,\"active-color\":\"#42b983\"},on:{\"change\":function($event){_vm.pShow(scope.row.uid)}},slot:\"reference\"})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"action\",\"align\":\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.copyPassword(scope.row.raw_pass)}}},[_vm._v(\"Copy\")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"layout\":\"sizes, prev, pager, next\",\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.tableParam.pageSize,\"current-page\":_vm.tableParam.page},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"app-container\">\n  <el-row type=\"flex\" justify=\"space-between\" :gutter=\"20\" style=\"margin: 20px 0\">\n    <el-col :span=\"12\">\n      <el-select v-model=\"selectValue\" @change=\"selectChange\" class=\"filter-item\" style=\"float: left\">\n        <el-option\n          v-for=\"item in selectOptions\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </el-col>\n    <el-col :span=\"12\">\n      <el-checkbox v-model=\"showAdmin\" @change=\"showAdminUser\">显示管理员</el-checkbox>\n    </el-col>\n    <el-col :span=\"12\">\n      <el-input \n        class=\"filter-item\" \n        prefix-icon=\"el-icon-search\"\n        placeholder=\"请输入邮箱\"\n        v-model=\"searchValue\"\n        @keyup.enter.native=\"handleSearch\"/>\n    </el-col>\n  </el-row>\n  <el-table\n    :data=\"tableData\"\n    v-loading=\"loading\"\n    style=\"width: 100%\">\n    <el-table-column align=\"center\" prop=\"uid\" label=\"ID\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"username\" label=\"用户名\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"email\" label=\"邮箱\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"reg_date\" label=\"注册时间\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"checkin\" label=\"最近签到时间\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"domain\" label=\"域名\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"agent\" label=\"代理商\"></el-table-column>\n    <el-table-column align=\"center\" label=\"禁用状态\">\n      <template slot-scope=\"scope\">\n        <el-popover\n          trigger=\"manual\"\n          placement=\"top\"\n          width=\"160\"\n          :ref=\"'popover-' + scope.row.username\"\n          >\n          <p>{{ scope.row.enable ? '确认禁用该用户？' : '取消禁用该用户？' }}</p>\n          <div style=\"text-align: right; margin: 0\">\n            <el-button type=\"text\" size=\"mini\" @click=\"pClose(scope.row.username)\">{{ $t('common.cancel') }}</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleFrozenUser(scope.row)\">{{ $t('common.ok') }}</el-button>\n          </div>\n          <el-switch slot=\"reference\" :value=\"scope.row.enable===0\" active-color=\"red\" @change=\"pShow(scope.row.username)\"></el-switch>\n        </el-popover>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"管理员权限\">\n      <template slot-scope=\"scope\">\n        <el-popover\n          trigger=\"manual\"\n          placement=\"top\"\n          width=\"160\"\n          :ref=\"'popover-' + scope.row.uid\"\n          >\n          <p>{{ scope.row.admin ? '确认取消该用户的管理员权限吗？' : '确定将该用户设置为管理员吗？' }}</p>\n          <div style=\"text-align: right; margin: 0\">\n            <el-button type=\"text\" size=\"mini\" @click=\"pClose(scope.row.uid)\">{{ $t('common.cancel') }}</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleAdminUser(scope.row)\">{{ $t('common.ok') }}</el-button>\n          </div>\n          <el-switch slot=\"reference\" :value=\"scope.row.admin\" active-color=\"#42b983\" @change=\"pShow(scope.row.uid)\"></el-switch>\n        </el-popover>\n      </template>\n    </el-table-column>\n\n    <el-table-column label=\"action\" align=\"center\" class-name=\"small-padding fixed-width\">\n      <template slot-scope=\"scope\">\n        <el-button type=\"primary\" size=\"mini\" @click=\"copyPassword(scope.row.raw_pass)\">Copy</el-button>\n      </template>\n    </el-table-column>\n\n  </el-table>\n\n  <div class=\"pagination-container\">\n    <el-pagination\n      layout=\"sizes, prev, pager, next\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"tableParam.pageSize\"\n      :current-page=\"tableParam.page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\">\n    </el-pagination>\n  </div>\n</div>\n</template>\n\n  <script>\n  import { fetchUserList, fetchAdminUser } from '@/api/userDomain'\n  import { frozenUser, adminUser, searchUser } from '@/api/user'\n  import { copy } from '@/utils'\n  import moment from 'moment'\n\n  export default {\n    data() {\n      return {\n        loading: false,\n        tableData: [],\n        tableParam: {\n          page: 1,\n          pageSize: 10\n        },\n        showAdmin: false,\n        searchValue: '',\n        selectValue: 'uid',\n        selectOptions: [\n          {\n            label: 'ID',\n            value: 'uid'\n          },\n          {\n            label: '邮箱',\n            value: 'email'\n          },\n          {\n            label: '用户名',\n            value: 'username'\n          },\n          {\n            label: '注册时间',\n            value: 'reg_date'\n          },\n          {\n            label: '代理商',\n            value: 'agent'\n          },\n          {\n            label: '域名',\n            value: 'domain'\n          },\n          {\n            label: '禁用状态',\n            value: 'enable'\n          }\n        ]\n      }\n    },\n    mounted() {\n      this.fetchTableData()\n    },\n    methods: {\n      pShow(id) {\n        this.$refs[`popover-` + id].doShow()\n      },\n      pClose(id) {\n        this.$refs[`popover-` + id].doClose()\n      },\n      showAdminUser(value) {\n        this.loading = true\n        if(value) {\n          fetchAdminUser()\n            .then(res => {\n              if(res.data) {\n                this.loading = false\n                this.tableData = [...res.data]\n              }\n            })\n            .catch(err => {\n              this.loading = false\n              this.tableData = []\n              console.log(err)\n            })\n        } else {\n          this.fetchTableData()\n        }\n      },\n      formatData(data) {\n        const temp = [...data]\n        temp.forEach(item => {\n          item.reg_date = moment(item.reg_date * 1000).format('YYYY-MM-DD HH:mm')\n          item.checkin = moment(item.checkin).format('YYYY-MM-DD HH:mm')\n        })\n        return temp\n      },\n      fetchTableData(page=this.tableParam.page, pageSize=this.tableParam.pageSize, order=this.selectValue) {\n        this.loading = true\n        fetchUserList(page, pageSize, order).then(res => {\n          if(res.data) {\n            this.tableData = this.formatData(res.data)\n          }\n          this.loading = false\n        }).catch(err => {\n          this.tableData = []\n          this.loading = false\n          console.log(err)\n        })\n      },\n      handleFrozenUser(user) {\n        const data = {\n          uid: user.uid,\n          frozen: user.enable ? true : false\n        }\n        this.loading = true\n        frozenUser(data)\n          .then(res => {\n            this.pClose(user.username)\n            this.loading = false\n            this.$message({\n              type: 'success',\n              message: '操作成功'\n            })\n            this.tableData.forEach(item => {\n              if(item.uid === data.uid)\n                item.enable = data.frozen ? 0 : 1\n            })\n          })\n          .catch(err => {\n            this.loading = false\n            console.log(err)\n          })\n      },\n      handleAdminUser(user) {\n        this.loading = true\n        adminUser({\n          uid: user.uid,\n          admin: !user.admin\n        })\n          .then(res => {\n            this.pClose(user.uid)\n            this.loading = false\n            this.$message({\n              type: 'success',\n              message: '操作成功'\n            })\n            this.tableData.forEach(item => {\n              if(item.uid === user.uid)\n                item.admin = !item.admin\n            })\n          })\n          .catch(err => {\n            this.loading = false\n            console.log(err)\n          })\n      },\n      handleSearch() {\n        if(this.searchValue) {\n          searchUser(this.searchValue)\n            .then(res => {\n              this.tableData = [...res.data]\n            })\n            .catch(err => {\n              this.tableData = []\n              console.log(err)\n            })\n        } else {\n          this.fetchTableData()\n        }\n      },\n      handleSizeChange(pageSize) {\n        this.tableParam.pageSize = pageSize\n        this.fetchTableData()\n      },\n      handleCurrentChange(page) {\n        this.tableParam.page = page\n        this.fetchTableData()\n      },\n      selectChange() {\n        this.fetchTableData()\n      },\n      copyPassword(pw) {\n        copy(pw, () => {this.$message.success('Copied(已复制)')})\n      }\n    }\n  }\n  </script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userList.vue?vue&type=template&id=defc6ca8&\"\nimport script from \"./userList.vue?vue&type=script&lang=js&\"\nexport * from \"./userList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"userList.vue\"\nexport default component.exports","import request from '@/utils/request'\nimport { getID } from '@/utils/auth'\n\n// 获取活跃域名总数\nexport function fetchHostNum() {\n  return request({\n    url: `host/num?ts=${((new Date().getTime()) / 1000).toFixed() - 1800}`,\n    method: 'get'\n  })\n}\n\n// 获取域名列表\nexport function fetchDomain(page, pageSize, order, filters) {\n  let url = `host?page=${page}&page_size=${pageSize}&order=${order}`\n  filters.forEach(item => {\n    if(item.value)\n      url += `&${item.name}=${item.value}`\n  })\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 将域名拉黑或从黑名单移除\nexport function blockDomain(data) {\n  return request({\n    url: `/host/block`,\n    method: 'post',\n    data\n  })\n}\n\n// 将域名加入或从白名单移除\nexport function whiteDomain(data) {\n  return request({\n    url: `/host/whitelist`,\n    method: 'post',\n    data\n  })\n}\n\n// 查找域名\nexport function searchHost(host) {\n  return request({\n    url: `host/search?keywords=${host}`,\n    method: 'get'\n  })\n}\n\n// 获取用户列表\nexport function fetchUserList(page, pageSize, order) {\n  return request({\n    url: `user?page=${page}&page_size=${pageSize}&order=${order}`,\n    method: 'get'\n  })\n}\n\n// 获取某用户的域名列表\nexport function fetchUserDomain(page, pageSize) {\n  return request({\n    url: `user/user_id/${getID()}/domain?page=${page}&page_size=${pageSize}`,\n    method: 'get'\n  })\n}\n\n// 绑定域名\nexport function bindDomain(data) {\n  return request({\n    url: `user/user_id/${getID()}/domain`,\n    method: 'post',\n    data\n  })\n}\n\n// 认证域名\nexport function checkDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'post'\n  })\n}\n\n// 用户删除域名\nexport function deleteDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'delete'\n  })\n}\n\n// 管理员权限用户列表\nexport function fetchAdminUser() {\n  return request({\n    url: `user/admin`,\n    method: 'get'\n  })\n}","import request from '@/utils/request'\nimport { getID } from '@/utils/auth'\n\n// 用户信息，邮箱 注册时间等\nexport function fetchUserData() {\n  return request({\n    url: `user/user_id/${getID()}/profile`,\n    method: 'get'\n  })\n}\n\n// 用户修改密码\nexport function changePasswd(data) {\n  return request({\n    url: `user/user_id/${getID()}/profile/passwd`,\n    method: 'put',\n    data\n  })\n}\n\n// 用户修改邮箱\nexport function changeMail(data) {\n  return request({\n    url: `user/user_id/${getID()}/profile/email`,\n    method: 'put',\n    data\n  })\n}\n\n// 冻结用户\nexport function frozenUser(data) {\n  return request({\n    url: `user/frozen`,\n    method: 'post',\n    data\n  })\n}\n\n// 修改用户管理员权限\nexport function adminUser(data) {\n  return request({\n    url: `user/admin`,\n    method: 'post',\n    data\n  })\n}\n\n// 查找用户\nexport function searchUser(mail) {\n  return request({\n    url: `user/search?keywords=${mail}`,\n    method: 'get'\n  })\n}\n","export function debounce(func, wait, immediate) {\n  let timeout, args, context, timestamp, result\n\n  const later = function() {\n    // 据上一次触发时间间隔\n    const last = + new Date() - timestamp\n\n    // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last)\n    } else {\n      timeout = null\n      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\n      if (!immediate) {\n        result = func.apply(context, args)\n        if (!timeout) context = args = null\n      }\n    }\n  }\n\n  return function(...args) {\n    context = this\n    timestamp = + new Date()\n    const callNow = immediate && !timeout\n    // 如果延时不存在，重新设定延时\n    if (!timeout) timeout = setTimeout(later, wait)\n    if (callNow) {\n      result = func.apply(context, args)\n      context = args = null\n    }\n\n    return result\n  }\n}\n\nexport function downloadFile(content, filename) {\n  // 创建隐藏的可下载链接\n  var eleLink = document.createElement('a')\n  eleLink.download = filename\n  eleLink.style.display = 'none'\n  // 字符内容转变成blob地址\n  var blob = new Blob([content])\n  eleLink.href = URL.createObjectURL(blob)\n  // 触发点击\n  document.body.appendChild(eleLink)\n  eleLink.click()\n  // 然后移除\n  document.body.removeChild(eleLink)\n}\n\n//删除左右两端的空格\nexport function trim(str){\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n}\n\nexport function copy(value, callback) {\n  var currentFocus = document.activeElement;// 保存当前活动节点\n  \n  let input = document.createElement('input');// 创建一个input标签\n  document.body.appendChild(input);// 把标签添加给body\n  input.style.opacity = 0;//设置input标签设置为透明(不可见)\n  input.value = value;// 把需要复制的值放到input上\n\n  // 记录当前滚动位置, 因为添加节点并选中的时候回影响页面滚动\n  let scrollY = window.scrollY;\n\n  input.focus();// input节点获取焦点\n  input.setSelectionRange(0, input.value.length);// 选中input框中的所有文字\n\n  var res = document.execCommand('copy', true);// 复制文字并获取结果\n\n  currentFocus.focus();// 之前活动节点获得焦点\n  document.body.removeChild(input);// 删除添加的input节点\n\n  // 页面滚动到之前位置\n  window.scrollTo(0, scrollY);\n  \n  callback();\n  return res;// 返回操作结果\n}\n\n"],"sourceRoot":""}